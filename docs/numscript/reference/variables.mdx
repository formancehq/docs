---
title: Variables
---

Variables are a key component of Numscript that allow you to store and manipulate different types of values throughout your scripts. 

## Variable declaration

In Numscript, variables must be declared in a `vars` block at the beginning of a script. The basic syntax for variable declaration is:

```numscript
vars {
    type $variable_name
}
```

Variables can also be initialized at declaration time:

```numscript
vars {
    type $variable_name = value
}
```

## Variable naming rules

Variables in Numscript follow these naming conventions:

- Must start with a `$` symbol
- The name itself (after the `$`) must start with at least one letter or underscore
- Can contain lowercase letters, numbers, and underscores
- Cannot contain uppercase letters or special characters

Examples:

- `$price`
- `$user_id`
- `$trade_reference_123`
- `$_internal`

## Variable types

Numscript supports several variable types, summarized in the table below:

| Type | Description | Format | Examples |
|------|-------------|--------|----------|
| `account` | References to ledger accounts | Account names must start with `@` followed by at least one letter or underscore. Can contain letters, digits, underscores, and colons. | `@users:001`, `@platform`, `@trades:123456`, `@world` |
| `asset` | Currencies or tokens | Can contain uppercase letters, digits, and forward slashes. | `USD/2`, `BTC/8`, `EUR/2`,`TOKEN1` |
| `number` | Numeric values | Integer or decimal values. | `100`, `3.14`, `0`, `-42` |
| `monetary` | Combines an asset and an amount | `[ASSET AMOUNT]` or `"ASSET AMOUNT"` when provided in JSON. | `[USD/2 100]`, `[BTC/8 0.5]`, In JSON: `"USD/2 100"` |
| `portion` | Percentages or fractions | Can be expressed as a percentage (`X%`) or as a fraction (`X/Y`). The computed value must be between 0 and 1 (inclusive). | `2.5%`,`15%`, `1/4`, `3/10` |
| `string` | Text data | Text enclosed in double quotes. | `"Payment"`, `"Invoice #12345"`, `"Transfer to savings account"` |

## Variable initialization

Variables can be initialized in several ways:

### At declaration

```numscript
vars {
    monetary $price = [USD/2 100]
    account $recipient = @users:001
    string $description = "Monthly payment"
}
```

### From account balances

You can initialize a monetary variable with the current balance of an account for a specific asset:

```numscript
vars {
    monetary $initial = balance(@A, USD/2)
}
```

The balance pulled needs to be non-negative, or the script will fail to execute.

### From account metadata

You can initialize variables from account metadata:

```numscript
vars {
    string $user_name = meta(@users:001, "name")
}
```

## Setting variable values from external sources

When executing a Numscript file, you can inject variable values using the API:

```json
{
    "script": {
        "vars": {
            "price": "USD/2 100",
            "trade": "trades:108391999",
            "commission": "15%",
            "pair": "EUR/2",
            "id": "108391999",
            "reference": "USD/EUR:108391999"
        }
    }
}
```

## Variable usage in expressions

Variables can be used in expressions throughout the script:

```numscript
vars {
    monetary $price = [USD/2 100]
    portion $commission = 2.5%
}

// Using variables in send operation
send $price (
    source = @world
    destination = {
        $commission to @platform
        remaining to @user:123
    }
)

// Using variables in metadata
set_tx_meta("payment_amount", $price)
```

## Examples

### Basic transaction with variables

```numscript
vars {
  monetary $price
  account $trade
  portion $commission
  asset $pair
  number $id
  string $reference
}

send $price (
  source = @world
  destination = {
    $commission to @platform
    remaining to $trade
  }
)

set_tx_meta("asset", $pair)
set_tx_meta("id", $id)
set_tx_meta("reference", $reference)
```

### Account balance usage

```numscript
vars {
    monetary $available = balance(@savings, USD/2)
    portion $transfer_portion = 50%
}

send ($available * $transfer_portion) (
    source = @savings
    destination = @checking
)

set_tx_meta("transfer_amount", ($available * $transfer_portion))
```